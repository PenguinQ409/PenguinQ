import{r as C}from"./react-BbeOyVV5.js";var Cn={exports:{}},je={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=C,Qr=Symbol.for("react.element"),eo=Symbol.for("react.fragment"),to=Object.prototype.hasOwnProperty,no=Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ro={key:!0,ref:!0,__self:!0,__source:!0};function An(e,t,n){var r,o={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)to.call(t,r)&&!ro.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Qr,type:e,key:s,ref:a,props:o,_owner:no.current}}je.Fragment=eo;je.jsx=An;je.jsxs=An;Cn.exports=je;var L=Cn.exports;class M extends Error{constructor(t,n,r){super(typeof n=="object"?n.message:n||t,{cause:typeof n=="object"?n.cause:r}),this.type=t,Object.setPrototypeOf(this,M.prototype)}}function oo(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}const so="ERR_INVALID_VALUE",ao="ERR_UNEXPECTED_VALUE",io="ERR_UNEXPECTED_TYPE",Sn="ERR_PARSE";function co(e,t){const n={};for(const r in e){const o=e[r];if(!o)continue;let s,a;typeof o=="function"?(s=r,a=o):[s,a]=o;try{const i=a(t(s));i!==void 0&&(n[r]=i)}catch(i){throw new M(Sn,`Parser for "${r}" property failed${s===r?"":`. Source field: "${s}"`}`,i)}}return n}function Rn(e){let t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch(n){throw new M(so,{cause:n})}if(typeof t!="object"||!t||Array.isArray(t))throw new M(ao);return t}function de(e,t){return n=>{const r=o=>{if(!(n&&o===void 0))try{return t(o)}catch(s){throw new M(Sn,{message:`"${e}" transformer failed to parse the value`,cause:s})}};return Object.assign(r,{isValid(o){try{return r(o),!0}catch{return!1}}})}}function uo(e,t){return de("object",n=>{const r=Rn(n);return co(e,o=>r[o])})}function On(e){throw new M(io,`Unexpected value received: ${JSON.stringify(e)}`)}const bt=de("string",e=>{if(typeof e=="string"||typeof e=="number")return e.toString();On(e)});function se(e){return/^#[\da-f]{6}$/i.test(e)}function lo(e){return/^#[\da-f]{3}$/i.test(e)}function xn(e){const t=e.replace(/\s/g,"").toLowerCase();if(se(t))return t;if(lo(t)){let r="#";for(let o=0;o<3;o+=1)r+=t[1+o].repeat(2);return r}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,o)=>{const s=parseInt(o,10).toString(16);return r+(s.length===1?"0":"")+s},"#")}const po=de("rgb",e=>xn(bt()(e))),fo=de("themeParams",e=>{const t=po(!0);return Object.entries(Rn(e)).reduce((n,[r,o])=>(n[oo(r)]=t(o),n),{})});function _o(e,t){return de("array",n=>{let r;if(Array.isArray(n))r=n;else if(typeof n=="string")try{const o=JSON.parse(n);Array.isArray(o)&&(r=o)}catch{}return r||On(n),r.map(e)})}class F extends Error{constructor(t,n,r){super(typeof n=="object"?n.message:n||t,{cause:typeof n=="object"?n.cause:r}),this.type=t,Object.setPrototypeOf(this,F.prototype)}}function Pn(e){return e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}function ho(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}const bo="ERR_INVALID_VALUE",mo="ERR_UNEXPECTED_VALUE",go="ERR_UNEXPECTED_TYPE",jn="ERR_PARSE";function kn(e,t){const n={};for(const r in e){const o=e[r];if(!o)continue;let s,a;typeof o=="function"?(s=r,a=o):[s,a]=o;try{const i=a(t(s));i!==void 0&&(n[r]=i)}catch(i){throw new F(jn,`Parser for "${r}" property failed${s===r?"":`. Source field: "${s}"`}`,i)}}return n}function Tn(e){let t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch(n){throw new F(bo,{cause:n})}if(typeof t!="object"||!t||Array.isArray(t))throw new F(mo);return t}function k(e,t){return n=>{const r=o=>{if(!(n&&o===void 0))try{return t(o)}catch(s){throw new F(jn,{message:`"${e}" transformer failed to parse the value`,cause:s})}};return Object.assign(r,{isValid(o){try{return r(o),!0}catch{return!1}}})}}function j(e,t){return k(t||"object",n=>{const r=Tn(n);return kn(e,o=>r[o])})}function _e(e){throw new F(go,`Unexpected value received: ${JSON.stringify(e)}`)}const xe=k("boolean",e=>{if(typeof e=="boolean")return e;const t=String(e);if(t==="1"||t==="true")return!0;if(t==="0"||t==="false")return!1;_e(e)}),R=k("string",e=>{if(typeof e=="string"||typeof e=="number")return e.toString();_e(e)}),ae=k("number",e=>{if(typeof e=="number")return e;if(typeof e=="string"){const t=Number(e);if(!Number.isNaN(t))return t}_e(e)}),wo=k("date",e=>e instanceof Date?e:new Date(ae()(e)*1e3));function In(e,t){return k(t||"searchParams",n=>{typeof n!="string"&&!(n instanceof URLSearchParams)&&_e(n);const r=typeof n=="string"?new URLSearchParams(n):n;return kn(e,o=>{const s=r.get(o);return s===null?void 0:s})})}function Ke(e){for(const t in e)e[t]=[Pn(t),e[t]];return e}const yo=e=>{const t=ae(),n=ae(!0),r=R(),o=R(!0),s=xe(!0),a=j(Ke({addedToAttachmentMenu:s,allowsWriteToPm:s,firstName:r,id:t,isBot:s,isPremium:s,languageCode:o,lastName:o,photoUrl:o,username:o}),"User")(!0);return In(Ke({authDate:wo(),canSendAfter:n,chat:j(Ke({id:t,type:r,title:r,photoUrl:o,username:o}),"Chat")(!0),chatInstance:o,chatType:o,hash:r,queryId:o,receiver:a,startParam:o,signature:r,user:a}),"initData")(e)};function vo(e){return/^#[\da-f]{6}$/i.test(e)}function Eo(e){return/^#[\da-f]{3}$/i.test(e)}function Co(e){const t=e.replace(/\s/g,"").toLowerCase();if(vo(t))return t;if(Eo(t)){let r="#";for(let o=0;o<3;o+=1)r+=t[1+o].repeat(2);return r}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,o)=>{const s=parseInt(o,10).toString(16);return r+(s.length===1?"0":"")+s},"#")}const Ao=k("rgb",e=>Co(R()(e))),nn=k("themeParams",e=>{const t=Ao(!0);return Object.entries(Tn(e)).reduce((n,[r,o])=>(n[ho(r)]=t(o),n),{})});function rn(e){return JSON.stringify(Object.fromEntries(Object.entries(e).map(([t,n])=>[Pn(t),n])))}const So=e=>{const t=R(),n=R(!0),r=xe(!0);return In({botInline:["tgWebAppBotInline",r],defaultColors:["tgWebAppDefaultColors",nn(!0)],fullscreen:["tgWebAppFullscreen",r],initData:["tgWebAppData",yo(!0)],initDataRaw:["tgWebAppData",n],platform:["tgWebAppPlatform",t],showSettings:["tgWebAppShowSettings",r],startParam:["tgWebAppStartParam",n],themeParams:["tgWebAppThemeParams",nn()],version:["tgWebAppVersion",t]},"launchParams")(e)};function Ro(e){const{initDataRaw:t,startParam:n,showSettings:r,botInline:o,fullscreen:s,defaultColors:a}=e,i=new URLSearchParams;return i.set("tgWebAppPlatform",e.platform),i.set("tgWebAppThemeParams",rn(e.themeParams)),i.set("tgWebAppVersion",e.version),t&&i.set("tgWebAppData",t),n&&i.set("tgWebAppStartParam",n),typeof r=="boolean"&&i.set("tgWebAppShowSettings",r?"1":"0"),typeof o=="boolean"&&i.set("tgWebAppBotInline",o?"1":"0"),typeof s=="boolean"&&i.set("tgWebAppFullscreen",s?"1":"0"),a&&i.set("tgWebAppDefaultColors",rn(a)),i.toString()}const Oo=j({eventType:R(),eventData:e=>e},"miniAppsMessage"),$n=k("fn",e=>{if(typeof e=="function")return e;_e(e)});function xo(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}const Po=j({TelegramWebviewProxy:j({postEvent:$n()})()});function Dn(e){return Po().isValid(e)}function jo(){try{return window.self!==window.top}catch{return!0}}var ko=Object.defineProperty,To=(e,t,n)=>t in e?ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nn=(e,t,n)=>To(e,typeof t!="symbol"?t+"":t,n);let p=class Ln extends Error{constructor(t,n,r){super(typeof n=="object"?n.message:n||t,{cause:typeof n=="object"?n.cause:r}),this.type=t,Object.setPrototypeOf(this,Ln.prototype)}};function Bn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Y(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}const Io="ERR_ABORTED",$o="ERR_CANCELED",Do="ERR_TIMED_OUT";function on(e){return new p(Io,{cause:e})}function sn(e,t){return e.reject=t.reject,e}class g extends Promise{constructor(t,n){let r,o;typeof t=="function"?(r=t,o=n):o=t;let s,a;super((i,u)=>{o||(o={});const{abortSignal:c}=o;if(c&&c.aborted)return u(on(c.reason));const[f,b]=Y(),y=h=>(...V)=>(b(),h(...V)),D=new AbortController,{signal:A}=D;a=y(h=>{D.abort(h),u(h)}),s=y(i),c&&f(Bn(c,"abort",()=>{a(on(c.reason))}));const{timeout:m}=o;if(m){const h=setTimeout(()=>{a(new p(Do,`Timeout reached: ${m}ms`))},m);f(()=>{clearTimeout(h)})}r&&r(s,a,A)}),Nn(this,"reject"),this.reject=a}static withFn(t,n){return new g((r,o,s)=>{try{const a=t(s);return a instanceof Promise?a.then(r,o):r(a)}catch(a){o(a)}},n)}static resolve(t){return new g(n=>{n(t)})}static reject(t){return new g((n,r)=>{r(t)})}cancel(){this.reject(new p($o))}catch(t){return this.then(void 0,t)}finally(t){return sn(super.finally(t),this)}then(t,n){return sn(super.then(t,n),this)}}function an(e,t){return e.resolve=t.resolve,e}let No=class Ce extends g{constructor(t,n){let r,o;typeof t=="function"?(r=t,o=n):o=t;let s;super((a,i,u)=>{s=a,r&&r(a,i,u)},o),Nn(this,"resolve"),this.resolve=s}static withFn(t,n){return new Ce((r,o,s)=>g.withFn(t,{abortSignal:s}).then(r,o),n)}static resolve(t){return new Ce(n=>{n(t)})}static reject(t){return new Ce((n,r)=>{r(t)})}catch(t){return this.then(void 0,t)}finally(t){return an(super.finally(t),this)}then(t,n){return an(super.then(t,n),this)}};function Un(e){return`tapps/${e}`}function O(e,t){sessionStorage.setItem(Un(e),JSON.stringify(t))}function x(e){const t=sessionStorage.getItem(Un(e));try{return t?JSON.parse(t):void 0}catch{}}function mt(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Lo(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:o=!0}=t;function s(a,...i){if(!o||typeof o=="function"&&!o())return;const u="font-weight:bold;padding:0 5px;border-radius:5px";console[a](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${u};background-color: lightblue;color:black`,"",`${u};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...i)}return[function(...a){s("log",...a)},function(...a){s("error",...a)}]}function gt(e,t){document.documentElement.style.setProperty(e,t)}function wt(e){document.documentElement.style.removeProperty(e)}function Bo(e,t){t()}function Z(e,t){t||(t={});const n=t.equals||Object.is;let r=[],o=e;const s=c=>{if(!n(o,c)){const f=o;o=c,Bo(u,()=>{[...r].forEach(([b,y])=>{b(c,f),y&&i(b,!0)})})}};function a(c){const f=typeof c!="object"?{once:c}:c;return{once:f.once||!1,signal:f.signal||!1}}const i=(c,f)=>{const b=a(f),y=r.findIndex(([D,A])=>D===c&&A.once===b.once&&A.signal===b.signal);y>=0&&r.splice(y,1)},u=Object.assign(function(){return Uo(u),o},{destroy(){r=[]},set:s,reset(){s(e)},sub(c,f){return r.push([c,a(f)]),()=>i(c,f)},unsub:i,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const Qe=[];function Uo(e){Qe.length&&Qe[Qe.length-1].add(e)}const qo=Z(!1),[qn,Vo]=Lo("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:qo}),Mo={clipboard_text_received:j({req_id:R(),data:e=>e===null?e:R(!0)(e)},"clipboard_text_received"),custom_method_invoked:j({req_id:R(),result:e=>e,error:R(!0)},"custom_method_invoked"),popup_closed:k("popup_closed",e=>e?j({button_id:t=>t==null?void 0:R()(t)})()(e):{}),viewport_changed:j({height:ae(),width:e=>e==null?window.innerWidth:ae()(e),is_state_stable:xe(),is_expanded:xe()},"viewport_changed")};function Fo(e){const t=window,[,n]=Y(Bn(t,"message",r=>{if(r.source!==t.parent)return;let o;try{o=Oo()(r.data)}catch{return}const{eventType:s,eventData:a}=o,i=Mo[s];try{const u=i?i()(a):a;qn("Event received:",u?{eventType:s,eventData:u}:{eventType:s}),e([s,u])}catch(u){Vo([`An error occurred processing the "${s}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),o,u)}}));return n}const cn=Z(),un=Z();function Wo(){return un()||un.set(Fo(cn.set)),cn}const et=Z({});function Vn(e){let t=et()[e];return t||(t=Z(void 0,{equals(){return!1}}),Wo().sub(n=>{n&&n[0]===e&&t.set(n[1])}),et.set({...et(),[e]:t})),t}function v(e,t,n){return Vn(e).sub(t,n)}const Ho="ERR_METHOD_UNSUPPORTED",Go="ERR_RETRIEVE_LP_FAILED",Jo="ERR_METHOD_PARAMETER_UNSUPPORTED",Mn="ERR_UNKNOWN_ENV",zo="ERR_INVOKE_CUSTOM_METHOD_RESPONSE",Yo=Z("https://web.telegram.org");function yt(e,t){qn("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window;if(Dn(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}const r=JSON.stringify({eventType:e,eventData:t});if(jo())return n.parent.postMessage(r,Yo());const{external:o}=n;if(j({notify:$n()})().isValid(o)){o.notify(r);return}throw new p(Mn)}function vt(e,t,n){n||(n={});const{capture:r}=n,[o,s]=Y();return new g(a=>{(Array.isArray(t)?t:[t]).forEach(i=>{o(v(i,u=>{(!r||(Array.isArray(t)?r({event:i,payload:u}):r(u)))&&a(u)}))}),(n.postEvent||yt)(e,n.params)},n).finally(s)}function Fn(e){return So()(e)}function Wn(e){return Fn(e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function Zo(){return Wn(window.location.href)}function Xo(){const e=performance.getEntriesByType("navigation")[0];if(!e)throw new Error("Unable to get first navigation entry.");return Wn(e.name)}const Ko="launchParams";function Qo(){return Fn(x(Ko)||"")}function es(e){O("launchParams",Ro(e))}function Hn(e){return e instanceof Error?e.message+(e.cause?`
  ${Hn(e.cause)}`:""):JSON.stringify(e)}function he(){const e=[];for(const t of[Zo,Xo,Qo])try{const n=t();return es(n),n}catch(n){e.push(n)}throw new p(Go,["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment","Collected errors:",...e.map(t=>`— ${Hn(t)}`)].join(`
`))}function ln(e){try{return he(),!0}catch{return!1}return g.withFn(async()=>{if(Dn(window))return!0;try{return await vt("web_app_request_theme","theme_changed",{timeout:100}),!0}catch{return!1}},e)}function ts(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}function ns(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(e=>{let t=window;e.forEach((n,r,o)=>{if(r===o.length-1){t[n]=ts;return}n in t||(t[n]={}),t=t[n]})})}function rs(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]})}function B(e,t,n){Vn(e).unsub(t,n)}function os(e){return({req_id:t})=>t===e}function pn(e){return e.split(".").map(Number)}function ss(e,t){const n=pn(e),r=pn(t),o=Math.max(n.length,r.length);for(let s=0;s<o;s+=1){const a=n[s]||0,i=r[s]||0;if(a!==i)return a>i?1:-1}return 0}function w(e,t){return ss(e,t)<=0}function W(e,t,n){if(typeof n=="string"){if(e==="web_app_open_link"){if(t==="try_instant_view")return w("6.4",n);if(t==="try_browser")return w("7.6",n)}if(e==="web_app_set_header_color"&&t==="color")return w("6.9",n);if(e==="web_app_close"&&t==="return_back")return w("7.6",n);if(e==="web_app_setup_main_button"&&t==="has_shine_effect")return w("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return w("6.1",t);case"web_app_open_popup":return w("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return w("6.4",t);case"web_app_switch_inline_query":return w("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return w("6.9",t);case"web_app_setup_settings_button":return w("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return w("7.2",t);case"web_app_setup_swipe_behavior":return w("7.7",t);case"web_app_share_to_story":return w("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return w("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_request_emoji_status_access":return w("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function as(e,t){t||(t="strict");const n=typeof t=="function"?t:r=>{const{method:o,version:s}=r;let a,i;if("param"in r?(a=`Parameter "${r.param}" of "${o}" method is unsupported in Mini Apps version ${s}`,i=Jo):(a=`Method "${o}" is unsupported in Mini Apps version ${s}`,i=Ho),t==="strict")throw new p(i,a);return console.warn(a)};return(r,o)=>W(r,e)?xo(o)&&r==="web_app_set_header_color"&&"color"in o&&!W(r,"color",e)?n({version:e,method:r,param:"color"}):yt(r,o):n({version:e,method:r})}function is(e,t,n,r){return vt("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:e,params:t,req_id:n},capture:os(n)}).then(({result:o,error:s})=>{if(s)throw new p(zo,s);return o})}function cs(){return performance.getEntriesByType("navigation")[0]}function T(){const e=cs();return!!e&&e.type==="reload"}let J;function us(e,t){J&&J.set(e,t)||t()}function at(e){if(J)return e();J=new Map;try{e()}finally{J.forEach(t=>t()),J=void 0}}function l(e,t){t||(t={});const n=t.equals||Object.is;let r=[],o=e;const s=c=>{if(!n(o,c)){const f=o;o=c,us(u,()=>{[...r].forEach(([b,y])=>{b(c,f),y&&i(b,!0)})})}};function a(c){const f=typeof c!="object"?{once:c}:c;return{once:f.once||!1,signal:f.signal||!1}}const i=(c,f)=>{const b=a(f),y=r.findIndex(([D,A])=>D===c&&A.once===b.once&&A.signal===b.signal);y>=0&&r.splice(y,1)},u=Object.assign(function(){return ls(u),o},{destroy(){r=[]},set:s,reset(){s(e)},sub(c,f){return r.push([c,a(f)]),()=>i(c,f)},unsub:i,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const te=[];function ls(e){te.length&&te[te.length-1].add(e)}function _(e,t){let n=new Set,r;function o(){return r||(r=l(a(),t))}function s(){o().set(a())}function a(){n.forEach(c=>{c.unsub(s,{signal:!0})});const i=new Set;let u;te.push(i);try{u=e()}finally{te.pop()}return i.forEach(c=>{c.sub(s,{signal:!0})}),n=i,u}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...i){return o().sub(...i)},unsub(...i){o().unsub(...i)},unsubAll(...i){o().unsubAll(...i)}})}const ps=l((()=>{let e=0;return()=>(e+=1).toString()})()),Gn=l(yt),N=l("0.0");function fs(e){e||(e={});const{postEvent:t}=e,n=e.version||he().version;N.set(n),Gn.set(typeof t=="function"?t:as(n))}function ds(){return ps()()}function ke(e,t,n){return is(e,t,ds(),{...n||{},postEvent:d})}const I=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=d),vt(e,t,n)),d=(e,t)=>Gn()(e,t);function _s(e){return _(()=>W(e,N()))}const Q="ERR_POPUP_INVALID_PARAMS",Et="ERR_INVALID_URL",hs="ERR_INVALID_SLUG",Ct="ERR_ALREADY_REQUESTING",At="ERR_ALREADY_OPENED",bs="ERR_ALREADY_MOUNTING",ms="ERR_VARS_ALREADY_BOUND",gs="ERR_NOT_AVAILABLE",ws="ERR_NOT_INITIALIZED",fn="ERR_NOT_SUPPORTED",ys="ERR_NOT_MOUNTED",vs="ERR_FULLSCREEN_FAILED";function dn(){return typeof window>"u"}function Te(e,t,{isSupported:n,isMounted:r,component:o,supports:s}={}){const a=`${o?`${o}.`:""}${e}()`;n=n?Array.isArray(n)||typeof n=="object"&&"any"in n?n:[n]:void 0;function i(m){if(s){const h=s[m];return W(h[0],h[1],N())}return!0}const u=()=>{if(!n)return;const m=`it is unsupported in Mini Apps version ${N()}`;function h(S){return typeof S=="string"?W(S,N())?void 0:m:S.fn()?void 0:S.error}if(Array.isArray(n)){for(const S of n){const tn=h(S);if(tn)return tn}return}let V;for(const S of n.any)if(V=h(S),!V)return;return m},c=(...m)=>{if(s){for(const h in s)if(s[h][2](...m)&&!i(h))return`option ${h} is not supported in Mini Apps version ${N()}`}},f=_(()=>!u()),b=_(()=>N()!=="0.0"),y=_(()=>!r||r()),D=_(()=>ln("simple")&&!dn()&&b()&&f()&&y());let A;if(s){A={};for(const m in s)A[m]=_(()=>i(m))}return Object.assign((...m)=>{const h=`Unable to call the ${a} ${o?"method":"function"}:`;if(dn()||!ln("simple"))throw new p(Mn,`${h} it can't be called outside Mini Apps`);if(!b())throw new p(ws,`${h} the SDK was not initialized. Use the SDK init() function`);const V=u();if(V)throw new p(fn,`${h} ${V}`);const S=c(...m);if(S)throw new p(fn,`${h} ${S}`);if(!y())throw new p(ys,`${h} the component is not mounted. Use the ${o}.mount() method`);return t(...m)},t,{isAvailable:D,ifAvailable(...m){return D()?t(...m):void 0}},n?{isSupported:f}:{},A?{supports:A}:{})}function Ie(e,t){return t||(t={}),(n,r,o,s)=>Te(n,r,{...t,isSupported:o||t.isSupported,supports:s,component:e})}function H(e,t,n){return Ie(e,{isSupported:n,isMounted:t})}function P(e,t){return Ie(e,{isSupported:t})}const $e="web_app_setup_back_button",Jn="back_button_pressed",De="backButton",it=l(!1),ie=l(!1),Es=_s($e),zn=H(De,ie,$e),St=P(De,$e),Cs=zn("hide",()=>{Rt(!1)}),As=St("mount",()=>{ie()||(Rt(T()&&x(De)||!1),ie.set(!0))});function Rt(e){e!==it()&&(d($e,{is_visible:e}),O(De,e),it.set(e))}const Ss=St("onClick",e=>v(Jn,e)),Rs=St("offClick",e=>{B(Jn,e)}),Os=zn("show",()=>{Rt(!0)});function xs(){ie.set(!1)}const yi=Object.freeze(Object.defineProperty({__proto__:null,hide:Cs,isMounted:ie,isSupported:Es,isVisible:it,mount:As,offClick:Rs,onClick:Ss,show:Os,unmount:xs},Symbol.toStringTag,{value:"Module"}));function Yn(e,t,n,r,o){const s=o===void 0||o?g:Promise;return Object.assign((...a)=>s.resolve().then(async()=>{if(n()){const u=t();throw r.set(u),u}at(()=>{n.set(s.resolve(e(...a))),r.set(void 0)});let i;try{i=[!0,await n()]}catch(u){i=[!1,u]}if(at(()=>{n.set(void 0),r.set(i[0]?void 0:i[1])}),!i[0])throw i[1];return i[1]}),e)}function Zn(e,t,n,r,o,s){const a=Yn(t,()=>new p(bs,`The ${e} component is already mounting`),o,s);return i=>g.resolve().then(async()=>{if(!r()){const u=await a(i);at(()=>{r.set(!0),n(u)})}})}const U=Ie,Xn=l({available:!1}),tt=l(!1),nt=l(!1),Kn=l(!1),Ps=l(),js=l();function Ot(e){return e.available?{available:!0,tokenSaved:e.token_saved,deviceId:e.device_id,accessRequested:e.access_requested,type:e.type,accessGranted:e.access_granted}:{available:!1}}const _n="web_app_biometry_get_info",ks=Te("requestBiometry",e=>I(_n,"biometry_info_received",e).then(Ot),{isSupported:_n}),xt="web_app_biometry_request_auth",Ts="web_app_biometry_request_access",Is="web_app_biometry_open_settings",$s="web_app_biometry_update_token",Qn="biometry_info_received",z="biometry",Ds=U(z),Ns=P(z,xt),Pt=H(z,Kn,xt);function er(){throw new p(gs,"Biometry is not available")}Pt("authenticate",e=>g.withFn(async t=>{if(tt())throw new p(Ct,"Authentication is already in progress");const n=Xn();(!n||!n.available)&&er(),tt.set(!0);try{const r=await I(xt,"biometry_auth_requested",{abortSignal:t,params:{reason:((e||{}).reason||"").trim()}}),{token:o}=r;return typeof o=="string"&&Ne({...n,token:o}),r}finally{tt.set(!1)}},e));Ns("openSettings",()=>{d(Is)});Pt("requestAccess",e=>g.withFn(async t=>{if(nt())throw new p(Ct,"Access request is already in progress");nt.set(!0);try{const n=await I(Ts,Qn,{abortSignal:t,params:{reason:(e||{}).reason||""}}).then(Ot);return n.available||er(),Ne(n),n.accessGranted}finally{nt.set(!1)}},e));Ds("mount",Zn(z,e=>T()&&x(z)||ks(e),e=>{v(Qn,Ls),Ne(e)},Kn,js,Ps));const Ls=e=>{Ne(Ot(e))};function Ne(e){Xn.set(e),O(z,e)}Pt("updateToken",e=>(e||(e={}),I($s,"biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status)));function Le(e,t){return Ie(e,{isMounted:t})}const Be="closingBehavior",hn=l(!1),ct=l(!1),tr=Le(Be,ct),Bs=U(Be);tr("disableConfirmation",()=>{jt(!1)});tr("enableConfirmation",()=>{jt(!0)});Bs("mount",()=>{ct()||(jt(T()&&x(Be)||!1),ct.set(!0))});function jt(e){e!==hn()&&(d("web_app_setup_closing_behavior",{need_confirmation:e}),O(Be,e),hn.set(e))}const Us="web_app_invoke_custom_method",Ue=P("cloudStorage",Us);Ue("deleteItem",(e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?ke("deleteStorageValues",{keys:n},t).then():g.resolve()});function qs(e,t){const n=Array.isArray(e)?e:[e];return n.length?ke("getStorageValues",{keys:n},t).then(r=>{const o=uo(Object.fromEntries(n.map(s=>[s,bt()])))()(r);return Array.isArray(e)?o:o[e]}):g.resolve(typeof e=="string"?"":{})}Ue("getItem",qs);Ue("getKeys",e=>ke("getStorageKeys",{},e).then(_o(bt())()));Ue("setItem",(e,t,n)=>ke("saveStorageValue",{key:e,value:t},n).then());const qe="web_app_trigger_haptic_feedback",kt=P("hapticFeedback",qe);kt("impactOccurred",e=>{d(qe,{type:"impact",impact_style:e})});kt("notificationOccurred",e=>{d(qe,{type:"notification",notification_type:e})});kt("selectionChanged",()=>{d(qe,{type:"selection_change"})});const Tt=l(void 0);function $(e){return _(()=>{const t=Tt();return t?t[e]:void 0})}const nr=$("authDate"),rr=$("canSendAfter"),Vs=_(()=>{const e=nr(),t=rr();return t&&e?new Date(e.getTime()+t*1e3):void 0}),Ms=$("chat"),Fs=$("chatType"),Ws=$("chatInstance"),Hs=$("hash"),Gs=$("queryId"),or=l(),Js=$("receiver");function zs(){const e=he();Tt.set(e.initData),or.set(e.initDataRaw)}const Ys=$("startParam"),Zs=$("user"),vi=Object.freeze(Object.defineProperty({__proto__:null,authDate:nr,canSendAfter:rr,canSendAfterDate:Vs,chat:Ms,chatInstance:Ws,chatType:Fs,hash:Hs,queryId:Gs,raw:or,receiver:Js,restore:zs,startParam:Ys,state:Tt,user:Zs},Symbol.toStringTag,{value:"Module"})),sr="web_app_open_invoice",Xs=P("invoice",sr),rt=l(!1);async function Ks(e,t,n){if(rt())throw new p(At,"An invoice is already opened");let r;if(t==="url"){const{hostname:o,pathname:s}=new URL(e,window.location.href);if(o!=="t.me")throw new p(Et,`Link has unexpected hostname: ${o}`);const a=s.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!a)throw new p(hs,'Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=a}else r=e,n=t;return rt.set(!0),I(sr,"invoice_closed",{...n,params:{slug:r},capture:o=>r===o.slug}).then(o=>o.status).finally(()=>{rt.set(!1)})}Xs("open",Ks);function ar(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function ir(e){const t=xn(e);return Math.sqrt([.299,.587,.114].reduce((n,r,o)=>{const s=parseInt(t.slice(1+o*2,1+(o+1)*2),16);return n+s*s*r},0))<120}const ce=l(!1),Ae=l(!1),q=l({});function E(e){return _(()=>q()[e])}const Qs=E("accentTextColor"),It=E("bgColor"),$t=E("buttonColor"),cr=E("buttonTextColor"),ur=E("bottomBarBgColor"),ea=E("destructiveTextColor"),ta=E("headerBgColor"),na=E("hintColor"),ra=_(()=>{const{bgColor:e}=q();return!e||ir(e)}),oa=E("linkColor"),Pe=E("secondaryBgColor"),sa=E("sectionBgColor"),aa=E("sectionHeaderTextColor"),ia=E("sectionSeparatorColor"),ca=E("subtitleTextColor"),ua=E("textColor"),ne=l({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),la=_(()=>{const e=ne();return{...e,backgroundColor:e.backgroundColor||$t()||"#2481cc",textColor:e.textColor||cr()||"#ffffff"}}),ut=l(!1),pa="web_app_setup_main_button",lr="main_button_pressed",Ve="mainButton",Dt=U(Ve),fa=Le(Ve,ut);Dt("mount",()=>{if(!ut()){const e=T()&&x(Ve);e&&ne.set(e),ut.set(!0)}});Dt("onClick",e=>v(lr,e));Dt("offClick",e=>{B(lr,e)});fa("setParams",e=>{ne.set({...ne(),...ar(e)}),O(Ve,ne());const t=la();t.text&&d(pa,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function Nt(){throw new p(ms,"CSS variables are already bound")}function da(e){return fo()(e)}const Me="themeParams",pr="theme_changed",_a=U(Me),ha=Le(Me,ce),ba=ha("bindCssVars",e=>{Ae()&&Nt(),e||(e=r=>`--tg-theme-${mt(r)}`);function t(r){Object.entries(q()).forEach(([o,s])=>{s&&r(o,s)})}function n(){t((r,o)=>{gt(e(r),o)})}return n(),q.sub(n),Ae.set(!0),()=>{t(wt),q.unsub(n),Ae.set(!1)}}),fr=_a("mount",()=>{ce()||(v(pr,dr),q.set(T()&&x(Me)||he().themeParams),ce.set(!0))}),dr=e=>{const t=da(e.theme_params);q.set(t),O(Me,t)};function ma(){B(pr,dr),ce.set(!1)}function _r(e){return _(()=>{const t=e();return se(t)?t:t==="bg_color"?It():Pe()})}const ue=l("bg_color"),Lt=_r(ue),le=l("bottom_bar_bg_color"),Bt=_(()=>{const e=le();return se(e)?e:e==="bottom_bar_bg_color"?ur()||Pe():e==="secondary_bg_color"?Pe():It()}),pe=l("bg_color"),hr=_r(pe),fe=l(!1),Se=l(!1),ga=_(()=>{const e=Lt();return e?ir(e):!1}),br=_(()=>({backgroundColor:ue(),bottomBarColor:le(),headerColor:pe()})),lt="web_app_set_background_color",pt="web_app_set_bottom_bar_color",Re="web_app_set_header_color",be="miniApp",Ut={any:[lt,pt,Re]},wa=_(()=>Ut.any.some(e=>W(e,N()))),mr=U(be),ya=P(be,Ut),Fe=H(be,fe,Ut),va=Fe("bindCssVars",e=>{Se()&&Nt();const[t,n]=Y();function r(o,s){function a(){gt(o,s()||null)}a(),t(s.sub(a),wt.bind(null,o))}return e||(e=o=>`--tg-${mt(o)}`),r(e("bgColor"),Lt),r(e("bottomBarColor"),Bt),r(e("headerColor"),hr),t(()=>{Se.set(!1)}),Se.set(!0),n}),Ea=mr("close",e=>{d("web_app_close",{return_back:e})}),Ca=ya("mount",()=>{if(!fe()){const e=T()&&x(be);fr(),gr.ifAvailable(e?e.backgroundColor:"bg_color"),wr.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),yr.ifAvailable(e?e.headerColor:"bg_color"),fe.set(!0)}}),Aa=mr("ready",()=>{d("web_app_ready")});function qt(){O(be,br())}const gr=Fe("setBackgroundColor",e=>{e!==ue()&&(d(lt,{color:e}),ue.set(e),qt())},lt),wr=Fe("setBottomBarColor",e=>{e!==le()&&(d(pt,{color:e}),le.set(e),qt())},pt),yr=Fe("setHeaderColor",e=>{e!==pe()&&(d(Re,se(e)?{color:e}:{color_key:e}),pe.set(e),qt())},Re,{rgb:[Re,"color",se]});function Sa(){fe.set(!1)}const Ei=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:ue,backgroundColorRGB:Lt,bindCssVars:va,bottomBarColor:le,bottomBarColorRGB:Bt,close:Ea,headerColor:pe,headerColorRGB:hr,isCssVarsBound:Se,isDark:ga,isMounted:fe,isSupported:wa,mount:Ca,ready:Aa,setBackgroundColor:gr,setBottomBarColor:wr,setHeaderColor:yr,state:br,unmount:Sa},Symbol.toStringTag,{value:"Module"}));function Ra(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new p(Q,`Invalid title: ${n}`);if(!t||t.length>256)throw new p(Q,`Invalid message: ${t}`);if(r.length>3)throw new p(Q,`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((o,s)=>{const a=o.id||"";if(a.length>64)throw new p(Q,`Button with index ${s} has invalid id: ${a}`);if(!o.type||o.type==="default"||o.type==="destructive"){const i=o.text.trim();if(!i||i.length>64)throw new p(Q,`Button with index ${s} has invalid text: ${i}`);return{type:o.type,text:i,id:a}}return{type:o.type,id:a}}):[{type:"close",id:""}]}}const vr="web_app_open_popup",Oa=P("popup",vr),ot=l(!1);Oa("open",async e=>{if(ot())throw new p(At,"A popup is already opened");ot.set(!0);try{const{button_id:t=null}=await I(vr,"popup_closed",{...e,params:Ra(e)});return t}finally{ot.set(!1)}});const xa="web_app_close_scan_qr_popup",Er="web_app_open_scan_qr_popup",Pa="scan_qr_popup_closed",ja="qr_text_received",Cr=P("qrScanner",Er),bn=Cr("close",()=>{ee.set(!1),d(xa)}),ee=l(!1);function ka(e){return g.withFn(t=>{if(ee())throw new p(At,"The QR Scanner is already opened");ee.set(!0),e||(e={});const{onCaptured:n,text:r,capture:o}=e,[,s]=Y(ee.sub(()=>{a.resolve()}),v(Pa,()=>{ee.set(!1)}),v(ja,i=>{n?n(i.data):(!o||o(i.data))&&(a.resolve(i.data),bn())})),a=new No({abortSignal:t}).catch(bn).finally(s);return(e.postEvent||d)(Er,{text:r}),a},e)}Cr("open",ka);const re=l({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),Ta=_(()=>{const e=re();return{...e,backgroundColor:e.backgroundColor||Bt()||"#000000",textColor:e.textColor||$t()||"#2481cc"}}),ft=l(!1),Vt="web_app_setup_secondary_button",Ar="secondary_button_pressed",We="secondaryButton",Mt=P(We,Vt),Ia=H(We,ft,Vt);Mt("mount",()=>{if(!ft()){const e=T()&&x(We);e&&re.set(e),ft.set(!0)}});Mt("onClick",e=>v(Ar,e));Mt("offClick",e=>{B(Ar,e)});Ia("setParams",e=>{re.set({...re(),...Object.fromEntries(Object.entries(e).filter(([,n])=>n!==void 0))}),O(We,re());const t=Ta();t.text&&d(Vt,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});const Ft="web_app_setup_settings_button",Sr="settings_button_pressed",He="settingsButton",mn=l(!1),dt=l(!1),Wt=P(He,Ft),Rr=H(He,dt,Ft);Rr("hide",()=>{Ht(!1)});Wt("mount",()=>{dt()||(Ht(T()&&x(He)||!1),dt.set(!0))});function Ht(e){e!==mn()&&(d(Ft,{is_visible:e}),O(He,e),mn.set(e))}Wt("onClick",e=>v(Sr,e));Wt("offClick",e=>{B(Sr,e)});Rr("show",()=>{Ht(!0)});const Gt="web_app_setup_swipe_behavior",Ge="swipeBehavior",_t=l(!1),gn=l(!0),$a=P(Ge,Gt),Or=H(Ge,_t,Gt);Or("disableVertical",()=>{Jt(!1)});Or("enableVertical",()=>{Jt(!0)});$a("mount",()=>{_t()||(Jt(T()&&x(Ge)||!1,!0),_t.set(!0))});function Jt(e,t){(e!==gn()||t)&&(d(Gt,{allow_vertical_swipe:e}),O(Ge,e),gn.set(e))}const Ci=Object.freeze(Object.defineProperty({__proto__:null,accentTextColor:Qs,backgroundColor:It,bindCssVars:ba,bottomBarBgColor:ur,buttonColor:$t,buttonTextColor:cr,destructiveTextColor:ea,headerBackgroundColor:ta,hintColor:na,isCssVarsBound:Ae,isDark:ra,isMounted:ce,linkColor:oa,mount:fr,secondaryBackgroundColor:Pe,sectionBackgroundColor:sa,sectionHeaderTextColor:aa,sectionSeparatorColor:ia,state:q,subtitleTextColor:ca,textColor:ua,unmount:ma},Symbol.toStringTag,{value:"Module"})),X="viewport",xr="web_app_request_fullscreen",Da="fullscreen_failed",zt="fullscreen_changed",Pr="safe_area_changed",jr="content_safe_area_changed",kr="viewport_changed",wn="web_app_request_safe_area",yn="web_app_request_content_safe_area",vn={left:0,top:0,bottom:0,right:0};function st(e){return Math.max(e,0)}const oe=l({contentSafeAreaInsets:vn,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:vn,stableHeight:0,width:0});function G(e){return _(()=>oe()[e])}function K(e){const{height:t,stableHeight:n,width:r}=e;oe.set({...oe(),...ar({...e,height:t?st(t):void 0,width:r?st(r):void 0,stableHeight:n?st(n):void 0})}),O(X,oe())}function Na(){return x(X)}const Tr=G("isFullscreen"),Yt=l(),La=_(()=>!!Yt()),Ir=l(),me=l(!1),Ba=_(()=>!!Je()),$r=l(void 0),Je=l(),Ua=H(X,me,xr);function Dr(e,t){return Ua(e,Yn(n=>I(t,[zt,Da],n).then(r=>{if("error"in r){if(r.error==="ALREADY_FULLSCREEN")return!0;throw new p(vs,"Fullscreen request failed",r.error)}return r.is_fullscreen}).then(r=>{r!==Tr()&&K({isFullscreen:r})}),()=>new p(Ct,"Fullscreen mode change is already being requested"),Yt,Ir))}const qa=Dr("requestFullscreen",xr),Va=Dr("exitFullscreen","web_app_exit_fullscreen"),Nr=U(X),Ma=Le(X,me);function ze(e){return _(()=>Zt()[e])}const Zt=G("safeAreaInsets"),Lr=ze("bottom"),Br=ze("left"),Ur=ze("right"),qr=ze("top");function Ye(e){return _(()=>Xt()[e])}const Xt=G("contentSafeAreaInsets"),Vr=Ye("bottom"),Mr=Ye("left"),Fr=Ye("right"),Wr=Ye("top"),Fa=Te("requestContentSafeAreaInsets",e=>I(yn,"content_safe_area_changed",e),{isSupported:yn}),Wa=Te("requestSafeAreaInsets",e=>I(wn,"safe_area_changed",e),{isSupported:wn});function Ha(e){return I("web_app_request_viewport","viewport_changed",e).then(t=>({height:t.height,width:t.width,isExpanded:t.is_expanded,isStable:t.is_state_stable}))}const Hr=e=>{const{height:t}=e;K({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},Gr=e=>{K({isFullscreen:e.is_fullscreen})},Jr=e=>{K({safeAreaInsets:e})},zr=e=>{K({contentSafeAreaInsets:e})},Ga=Nr("mount",Zn(X,e=>g.resolve().then(async()=>{const t=T()&&Na();if(t)return t;const[n,r]=await g.all([Wa.ifAvailable(e)||Zt(),Fa.ifAvailable(e)||Xt()]),o=he(),s={contentSafeAreaInsets:r,isFullscreen:!!o.fullscreen,safeAreaInsets:n};if(["macos","tdesktop","unigram","webk","weba","web"].includes(o.platform)){const a=window;return{...s,height:a.innerHeight,isExpanded:!0,stableHeight:a.innerHeight,width:a.innerWidth}}return Ha(e).then(a=>({...s,height:a.height,isExpanded:a.isExpanded,stableHeight:a.isStable?a.height:0,width:a.width}))}),e=>{v(kr,Hr),v(zt,Gr),v(Pr,Jr),v(jr,zr),K(e)},me,Je,$r));function Ja(){const e=Je();e&&e.cancel(),B(kr,Hr),B(zt,Gr),B(Pr,Jr),B(jr,zr),me.set(!1)}const Oe=l(!1),Kt=G("height"),Qt=G("stableHeight"),Yr=G("width"),za=Ma("bindCssVars",e=>{Oe()&&Nt(),e||(e=n=>`--tg-viewport-${mt(n)}`);const t=[["height",Kt],["stableHeight",Qt],["width",Yr],["safeAreaInsetTop",qr],["safeAreaInsetBottom",Lr],["safeAreaInsetLeft",Br],["safeAreaInsetRight",Ur],["contentSafeAreaInsetTop",Wr],["contentSafeAreaInsetBottom",Vr],["contentSafeAreaInsetLeft",Mr],["contentSafeAreaInsetRight",Fr]].reduce((n,[r,o])=>{const s=e(r);if(s){const a=()=>{gt(s,`${o()}px`)};n.push([a,o.sub(a),s])}return n},[]);return t.forEach(n=>{n[0]()}),Oe.set(!0),()=>{t.forEach(n=>{n[1](),wt(n[2])}),Oe.set(!1)}}),Ya=Nr("expand",()=>{d("web_app_expand")}),Za=G("isExpanded"),Xa=_(()=>Kt()===Qt()),Ai=Object.freeze(Object.defineProperty({__proto__:null,bindCssVars:za,changeFullscreenError:Ir,changeFullscreenPromise:Yt,contentSafeAreaInsetBottom:Vr,contentSafeAreaInsetLeft:Mr,contentSafeAreaInsetRight:Fr,contentSafeAreaInsetTop:Wr,contentSafeAreaInsets:Xt,exitFullscreen:Va,expand:Ya,height:Kt,isChangingFullscreen:La,isCssVarsBound:Oe,isExpanded:Za,isFullscreen:Tr,isMounted:me,isMounting:Ba,isStable:Xa,mount:Ga,mountError:$r,mountPromise:Je,requestFullscreen:qa,safeAreaInsetBottom:Lr,safeAreaInsetLeft:Br,safeAreaInsetRight:Ur,safeAreaInsetTop:qr,safeAreaInsets:Zt,stableHeight:Qt,state:oe,unmount:Ja,width:Yr},Symbol.toStringTag,{value:"Module"})),Ka=U();Ka("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(n){throw new p(Et,`"${e.toString()}" is invalid URL`,n)}t||(t={}),d("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})});const En="web_app_open_tg_link",Qa=U(),ei=Qa("openTelegramLink",e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new p(Et,`"${t}" is invalid URL`);if(!W(En,N())){window.location.href=t;return}e=new URL(e),d(En,{path_full:e.pathname+e.search})}),ti=U();ti("shareURL",(e,t)=>{ei("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});function Si(e){fs(e),ns();const[t,n]=Y(v("reload_iframe",()=>{d("iframe_will_reload"),window.location.reload()}),rs),{acceptCustomStyles:r=!0}={};if(r){const o=document.createElement("style");o.id="telegram-custom-styles",document.head.appendChild(o),t(v("set_custom_style",s=>{o.innerHTML=s}),()=>{document.head.removeChild(o)})}return d("iframe_ready",{reload_supported:!0}),n}const ve=e=>typeof e=="object"&&e!==null,Zr=(e,t)=>{if(e===t)return!0;if(e==null||t==null||!ve(e)&&!ve(t))return!1;if(ve(e)&&ve(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Object.prototype.hasOwnProperty.call(t,n)){if(!Zr(e[n],t[n]))return!1}else return!1;return!0}return!1},ni=e=>{const t=C.useRef(e);return Zr(t.current,e)||(t.current=e),t.current};function ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){ri(e,o,n[o])})}return e}function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}function Ze(e,t){return t=t??{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oi(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function si(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function we(e,t){if(e==null)return{};var n=si(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ye(...e){const t=[];return e.forEach(n=>{if(n)switch(typeof n){case"string":t.push(n);break;case"object":Object.keys(n).forEach(r=>{n[r]&&t.push(r)});break;default:t.push(`${n}`)}}),t.join(" ")}const Ee=e=>e!==void 0&&e!==!1&&e!==null&&e!=="",Xe=C.createContext({isRendered:!1}),en=!!(typeof window<"u"&&window.document&&window.document.createElement),ai={1:"tgui-5c92f90c2701fa17",2:"tgui-809f1f8a3f64154d",3:"tgui-5b8bdfbd2af10f59"},Xr=C.forwardRef((e,t)=>{var{weight:n="3",Component:r="span",plain:o=!0,caps:s,className:a}=e,i=we(e,["weight","Component","plain","caps","className"]);return L.jsx(r,ge({ref:t,className:ye("tgui-c3e2e598bd70eee6",o&&"tgui-080a44e6ac3f4d27",n&&ai[n],s&&"tgui-c602097b30e4ede9",a)},i))}),ii=C.forwardRef((e,t)=>{var{weight:n,className:r,Component:o}=e,s=we(e,["weight","className","Component"]);return L.jsx(Xr,Ze(ge({ref:t},s),{weight:n,className:ye("tgui-65c206f0fd891b6b",r),Component:o||"span"}))}),ci={1:"h2",2:"h3",3:"h4"},ui={1:"tgui-2fc52ee93e8068a6",2:"tgui-72c2a480384c4fb1",3:"tgui-45c5f45d3e9105f4"},li=e=>{var{level:t="2",className:n,Component:r}=e,o=we(e,["level","className","Component"]);return L.jsx(Xr,Ze(ge({},o),{className:ye("tgui-da537051a4a87aec",ui[t],n),Component:r||ci[t]}))},Ri=e=>{var{children:t,header:n,description:r,className:o,action:s}=e,a=we(e,["children","header","description","className","action"]);const i=Ee(n),u=Ee(r);return L.jsxs("section",Ze(ge({className:ye("tgui-e5c3a5b87f8b1f46",o)},a),{children:[Ee(t)&&t,(i||u)&&L.jsxs("dl",{className:"tgui-9c3dbc0ef84585d4",children:[i&&L.jsx(li,{Component:"dt",level:"3",weight:"2",children:n}),u&&L.jsx(ii,{className:"tgui-87cd6af55f73428d",Component:"dd",children:r})]}),Ee(s)&&s]}))},pi=(e,t)=>{t&&(typeof t=="function"?t(e):t.current=e)},fi=(...e)=>{let t=null;return{get current(){return t},set current(n){t=n,e.forEach(r=>r&&pi(n,r))}}},ht=()=>{var e;if(en)return(e=window.Telegram)===null||e===void 0?void 0:e.WebApp},di=e=>{if(!en||!window.matchMedia)return()=>{};const t=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{e(t.matches?"dark":"light")};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},_i=()=>en&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",hi=e=>{const{appearance:t}=C.useContext(Xe),[n,r]=C.useState(e||t||_i()),o=C.useCallback(()=>{const s=ht();s&&r(s.colorScheme)},[]);return C.useEffect(()=>{if(e!==void 0)return r(e),()=>{};const s=ht();return s?(s.onEvent("themeChanged",o),()=>s.offEvent("themeChanged",o)):di(r)},[e]),n},bi=()=>{const e=ht();return e&&["ios","macos"].includes(e.platform)?"ios":"base"},mi=e=>{if(e!==void 0)return e;const t=C.useContext(Xe);return t.isRendered&&t.platform!==void 0?t.platform:bi()},gi=e=>{if(e!==void 0)return e;const t=C.useContext(Xe);return t.isRendered&&t.portalContainer!==void 0?t.portalContainer:C.useRef(null)},Oi=C.forwardRef((e,t)=>{var{platform:n,appearance:r,portalContainer:o,children:s,className:a}=e,i=we(e,["platform","appearance","portalContainer","children","className"]);const u=hi(r),c=gi(o),f=mi(n),b=ni({platform:f,appearance:u,portalContainer:c,isRendered:!0});return L.jsx("div",Ze(ge({ref:fi(t,c),className:ye("tgui-6a12827a138e8827",f==="ios"&&"tgui-56dbb42c1dbd5e2b",u==="dark"&&"tgui-865b921add8ee075",a)},i),{children:L.jsx(Xe.Provider,{value:b,children:s})}))});export{Oi as A,he as J,yi as L,ir as M,Ri as P,vi as U,Ai as X,Ci as Z,Si as _,qo as a,se as d,L as j,Ei as z};
